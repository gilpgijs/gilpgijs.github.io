/// <reference lib="webworker" />

/* Espera 11 minutos después de hacer los cambios en tu sitio, para depués
 * actualizar este archivo. */

const CACHE = "cache"

const VERSION = "4.17"

const ARCHIVOS = [
  "/favicon.ico",
   "/img/icono/160x30.png",
   "/img/icono/160x30.webp",
   "/img/icono/80x15.png",
   "/img/icono/icono1024.png",
   "/img/icono/icono2048.png",
   "/img/icono/icono256.png",
   "/img/icono/maskable_icon.png",
   "/img/icono/maskable_icon2730.png",
   "/img/icono/maskable_icon_x128.png",
   "/img/icono/maskable_icon_x192.png",
   "/img/icono/maskable_icon_x384.png",
   "/img/icono/maskable_icon_x48.png",
   "/img/icono/maskable_icon_x512.png",
   "/img/icono/maskable_icon_x72.png",
   "/img/icono/maskable_icon_x96.png",
   "/img/m02Conceptos/winlogo.png",
   "/img/m02objsBasicos/hormiga1.svg",
   "/img/m02objsBasicos/hormiga2.svg",
   "/img/m02objsBasicos/hormiga3.svg",
   "/img/m02objsBasicos/hormiga4.svg",
   "/img/m03clases/reina.svg",
   "/img/m04apoyo/Ejemplo.webp",
   "/img/m05arreglos/arreglos.svg",
   "/img/m05arreglos/arrobjs.svg",
   "/img/m07excepciones/throw.svg",
   "/img/m07excepciones/try-catch-finally.svg",
   "/img/m07excepciones/try-catch.svg",
   "/img/m07excepciones/try-error-catch-finally.svg",
   "/img/m07excepciones/try-error-catch.svg",
   "/img/m07excepciones/try-error-finally.svg",
   "/img/m07excepciones/try-finally.svg",
   "/img/m09asociaciones/agregacion.svg",
   "/img/m09asociaciones/a_muchos.svg",
   "/img/m09asociaciones/a_uno.svg",
   "/img/m09asociaciones/clases_a_muchos.svg",
   "/img/m09asociaciones/clases_a_uno.svg",
   "/img/m09asociaciones/clases_muchos_a_muchos.svg",
   "/img/m09asociaciones/clases_uno_a_muchos.svg",
   "/img/m09asociaciones/clases_uno_a_uno.svg",
   "/img/m09asociaciones/clases_uno_a_uno_flechas.svg",
   "/img/m09asociaciones/composicion.svg",
   "/img/m09asociaciones/muchos_a_muchos.svg",
   "/img/m09asociaciones/uno_a_muchos.svg",
   "/img/m09asociaciones/uno_a_uno.svg",
   "/img/m09if/if.svg",
   "/img/m10ifPrograma/Frutas.png",
   "/img/m11if-else/if-else.svg",
   "/img/m12if-elsePrograma/adivinanza.png",
   "/img/m13condMult/condicional-multiple.svg",
   "/img/m14condMultPrograma/recomienda.png",
   "/img/m15condMultElse/condicional-multiple-else.svg",
   "/img/m16condMultElsePrograma/recomienda2.png",
   "/img/m20do-while/do-while.svg",
   "/img/m21do-whilePrograma/valida.png",
   "/img/m22masNumeros/cuadratica.png",
   "/img/m22masNumeros/recta.png",
   "/img/m22masNumeros/recta.svg",
   "/img/m23while/while.svg",
   "/img/m24for/for.svg",
   "/img/m25switch/switch-default.svg",
   "/img/m25switch/switch.svg",
   "/",
   "/index.html",
   "/js/muestra-codigo.js",
   "/m01Conceptos/",
   "/m01Conceptos/index.html",
   "/m01Conceptos/mAjs.html",
   "/m01Conceptos/mBstring.html",
   "/m01Conceptos/mCvacia.html",
   "/m01Conceptos/mDlog.html",
   "/m01Conceptos/mEorden.html",
   "/m01Conceptos/mFresumen.html",
   "/m01Conceptos/print.html",
   "/m01funciones/",
   "/m01funciones/index.html",
   "/m01funciones/mAfunciones.html",
   "/m01funciones/mBInvocaciones.html",
   "/m01funciones/mCfuncionesFunciones.html",
   "/m01funciones/mDfuncionesParametros.html",
   "/m01funciones/mEfuncionesParametrosExpresiones.html",
   "/m01funciones/mFfuncionesReturn.html",
   "/m01funciones/mGfuncionesFlecha.html",
   "/m01funciones/mHrecursividad.html",
   "/m01funciones/mIresumen.html",
   "/m01funciones/print.html",
   "/m02objsBasicos/",
   "/m02objsBasicos/index.html",
   "/m02objsBasicos/mApaso.html",
   "/m02objsBasicos/mBliterales.html",
   "/m02objsBasicos/mCstring.html",
   "/m02objsBasicos/mDstringConversion.html",
   "/m02objsBasicos/mEstringNumber.html",
   "/m02objsBasicos/mFresumen.html",
   "/m02objsBasicos/print.html",
   "/m02pres/",
   "/m02pres/index.html",
   "/m02pres/m1.html",
   "/m02pres/m2.html",
   "/m02pres/m3.html",
   "/m02pres/print.html",
   "/m03apoyo/",
   "/m03apoyo/index.html",
   "/m03apoyo/mAdepuracion.html",
   "/m03apoyo/mBpseudocodigo.html",
   "/m03apoyo/mCdiagramas.html",
   "/m03apoyo/mDpseint.html",
   "/m03apoyo/mEresumen.html",
   "/m03apoyo/print.html",
   "/m03clases/",
   "/m03clases/index.html",
   "/m03clases/mAclass.html",
   "/m03clases/mBobjeto/",
   "/m03clases/mBobjeto/index.html",
   "/m03clases/mBobjeto/m01.html",
   "/m03clases/mBobjeto/m02.html",
   "/m03clases/mBobjeto/m03.html",
   "/m03clases/mBobjeto/m04.html",
   "/m03clases/mBobjeto/m05.html",
   "/m03clases/mBobjeto/m06.html",
   "/m03clases/mBobjeto/m07.html",
   "/m03clases/mBobjeto/m08.html",
   "/m03clases/mBobjeto/m09.html",
   "/m03clases/mBobjeto/m10.html",
   "/m03clases/mBobjeto/m11.html",
   "/m03clases/mBobjeto/m12.html",
   "/m03clases/mBobjeto/m13.html",
   "/m03clases/mBobjeto/m14.html",
   "/m03clases/mBobjeto/m15depura.html",
   "/m03clases/mBobjeto/print.html",
   "/m03clases/mCinstObj.html",
   "/m03clases/mDgetters.html",
   "/m03clases/mEresumen.html",
   "/m03clases/print.html",
   "/m04herencia/",
   "/m04herencia/index.html",
   "/m04herencia/mAconstructores.html",
   "/m04herencia/mBsobrescritura.html",
   "/m04herencia/mCresumen.html",
   "/m04herencia/print.html",
   "/m04variables/",
   "/m04variables/index.html",
   "/m04variables/mAidentificador.html",
   "/m04variables/mBvariable.html",
   "/m04variables/mCpresVar/",
   "/m04variables/mCpresVar/index.html",
   "/m04variables/mCpresVar/m1.html",
   "/m04variables/mCpresVar/m2.html",
   "/m04variables/mCpresVar/m3.html",
   "/m04variables/mCpresVar/m4.html",
   "/m04variables/mCpresVar/m5depura.html",
   "/m04variables/mCpresVar/print.html",
   "/m04variables/mDpres2Var/",
   "/m04variables/mDpres2Var/index.html",
   "/m04variables/mDpres2Var/m1.html",
   "/m04variables/mDpres2Var/m2.html",
   "/m04variables/mDpres2Var/m3.html",
   "/m04variables/mDpres2Var/m4.html",
   "/m04variables/mDpres2Var/m5.html",
   "/m04variables/mDpres2Var/m6.html",
   "/m04variables/mDpres2Var/m7.html",
   "/m04variables/mDpres2Var/m8.html",
   "/m04variables/mDpres2Var/m9depura.html",
   "/m04variables/mDpres2Var/print.html",
   "/m04variables/mEtextosYVariables.html",
   "/m04variables/mFconstante.html",
   "/m04variables/mGduplicadas.html",
   "/m04variables/mHnoEncontradas.html",
   "/m04variables/mIquestion.html",
   "/m04variables/mJproceso.html",
   "/m04variables/mKresumen.html",
   "/m04variables/print.html",
   "/m05arreglos/",
   "/m05arreglos/index.html",
   "/m05arreglos/mAarrBasico.html",
   "/m05arreglos/mBarrCont.html",
   "/m05arreglos/mCforOf.html",
   "/m05arreglos/mDforEach.html",
   "/m05arreglos/mEarrInst.html",
   "/m05arreglos/mFarrLit.html",
   "/m05arreglos/mGforEachObj.html",
   "/m05arreglos/mHmap.html",
   "/m05arreglos/mIfilter.html",
   "/m05arreglos/mJjoin.html",
   "/m05arreglos/mKreduce.html",
   "/m05arreglos/mLsort.html",
   "/m05arreglos/mMencadenamiento.html",
   "/m05arreglos/mNSet.html",
   "/m05arreglos/mOresumen.html",
   "/m05arreglos/print.html",
   "/m05comentarios/",
   "/m05comentarios/index.html",
   "/m05comentarios/mAcomentario.html",
   "/m05comentarios/mBcom1linea.html",
   "/m05comentarios/mCpresCom1linea/",
   "/m05comentarios/mCpresCom1linea/index.html",
   "/m05comentarios/mCpresCom1linea/m1.html",
   "/m05comentarios/mCpresCom1linea/m2.html",
   "/m05comentarios/mCpresCom1linea/m3depura.html",
   "/m05comentarios/mCpresCom1linea/print.html",
   "/m05comentarios/mDcom1oMas.html",
   "/m05comentarios/mEpresCom1oMas/",
   "/m05comentarios/mEpresCom1oMas/index.html",
   "/m05comentarios/mEpresCom1oMas/m1.html",
   "/m05comentarios/mEpresCom1oMas/m2.html",
   "/m05comentarios/mEpresCom1oMas/m3.html",
   "/m05comentarios/mEpresCom1oMas/m4depura.html",
   "/m05comentarios/mEpresCom1oMas/print.html",
   "/m05comentarios/mFJsDoc.html",
   "/m05comentarios/mGresumen.html",
   "/m05comentarios/print.html",
   "/m06bloques/",
   "/m06bloques/index.html",
   "/m06bloques/mAbloque.html",
   "/m06bloques/mBdepuraBloque.html",
   "/m06bloques/mCvariablesDuplicadas.html",
   "/m06bloques/mDresumen.html",
   "/m06bloques/print.html",
   "/m06polimorfismo/",
   "/m06polimorfismo/index.html",
   "/m06polimorfismo/mAsobrescritura.html",
   "/m06polimorfismo/mBInterfaces.html",
   "/m06polimorfismo/mCInterfacesJs.html",
   "/m06polimorfismo/mDabstractas.html",
   "/m06polimorfismo/mEresumen.html",
   "/m06polimorfismo/print.html",
   "/m07excepciones/",
   "/m07excepciones/index.html",
   "/m07excepciones/mAthrow.html",
   "/m07excepciones/mBtryCatch.html",
   "/m07excepciones/mCtryFinally.html",
   "/m07excepciones/mDtryCatchFinally.html",
   "/m07excepciones/mEtryAnidado.html",
   "/m07excepciones/mFformulario.html",
   "/m07excepciones/mGresumen.html",
   "/m07excepciones/print.html",
   "/m07textos/",
   "/m07textos/index.html",
   "/m07textos/mAigualdadTxt.html",
   "/m07textos/mBdiferenteTxt.html",
   "/m07textos/mCresumen.html",
   "/m07textos/print.html",
   "/m08if/",
   "/m08if/index.html",
   "/m08if/mAif.html",
   "/m08if/mBifTrue.html",
   "/m08if/mCifFalse.html",
   "/m08if/mDresumen.html",
   "/m08if/print.html",
   "/m08promesas/",
   "/m08promesas/index.html",
   "/m08promesas/mApromesasOriginales.html",
   "/m08promesas/mBasyncAwait.html",
   "/m08promesas/mCcreaPromesa.html",
   "/m08promesas/mDpromiseAll.html",
   "/m08promesas/mEresumen.html",
   "/m08promesas/print.html",
   "/m09asociaciones/",
   "/m09asociaciones/index.html",
   "/m09asociaciones/mAaUno.html",
   "/m09asociaciones/mBaMuchos.html",
   "/m09asociaciones/mCunoAuno.html",
   "/m09asociaciones/mDunoAmuchos.html",
   "/m09asociaciones/mEmuchosAmuchos.html",
   "/m09asociaciones/mFagregacion.html",
   "/m09asociaciones/mGcomposicion.html",
   "/m09asociaciones/mHresumen.html",
   "/m09asociaciones/print.html",
   "/m09ifPrograma/",
   "/m09ifPrograma/index.html",
   "/m09ifPrograma/mAproblema.html",
   "/m09ifPrograma/mBescenarios.html",
   "/m09ifPrograma/mCpseudocodigo.html",
   "/m09ifPrograma/mDdiagrama.html",
   "/m09ifPrograma/mEcodigo.html",
   "/m09ifPrograma/print.html",
   "/m10if-else/",
   "/m10if-else/index.html",
   "/m10if-else/mAif-else.html",
   "/m10if-else/mBif-elseTrue.html",
   "/m10if-else/mCif-elseFalse.html",
   "/m10if-else/mDresumen.html",
   "/m10if-else/print.html",
   "/m10patrones/",
   "/m10patrones/index.html",
   "/m10patrones/mAdefinicion.html",
   "/m10patrones/mBsingleton.html",
   "/m10patrones/mCfactory.html",
   "/m10patrones/mDproxy.html",
   "/m10patrones/mEmvc.html",
   "/m10patrones/mFresumen.html",
   "/m10patrones/print.html",
   "/m11if-elsePrograma/",
   "/m11if-elsePrograma/index.html",
   "/m11if-elsePrograma/mAproblema.html",
   "/m11if-elsePrograma/mBescenarios.html",
   "/m11if-elsePrograma/mCpseudocodigo.html",
   "/m11if-elsePrograma/mDdiagrama.html",
   "/m11if-elsePrograma/mEcodigo.html",
   "/m11if-elsePrograma/print.html",
   "/m12condMult/",
   "/m12condMult/index.html",
   "/m12condMult/mAcondMult.html",
   "/m12condMult/mBcondMultTrue1.html",
   "/m12condMult/mCcondMultTrue2.html",
   "/m12condMult/mDcondMultFalse.html",
   "/m12condMult/mEresumen.html",
   "/m12condMult/print.html",
   "/m13condMultPrograma/",
   "/m13condMultPrograma/index.html",
   "/m13condMultPrograma/mAproblema.html",
   "/m13condMultPrograma/mBescenarios.html",
   "/m13condMultPrograma/mCpseudocodigo.html",
   "/m13condMultPrograma/mDdiagrama.html",
   "/m13condMultPrograma/mEcodigo.html",
   "/m13condMultPrograma/print.html",
   "/m14condMultElse/",
   "/m14condMultElse/index.html",
   "/m14condMultElse/mAcondMult.html",
   "/m14condMultElse/mBcondMultTrue1.html",
   "/m14condMultElse/mCcondMultTrue2.html",
   "/m14condMultElse/mDcondMultFalse.html",
   "/m14condMultElse/mEresumen.html",
   "/m14condMultElse/print.html",
   "/m15condMultElsePrograma/",
   "/m15condMultElsePrograma/index.html",
   "/m15condMultElsePrograma/mAproblema.html",
   "/m15condMultElsePrograma/mBescenarios.html",
   "/m15condMultElsePrograma/mCpseudocodigo.html",
   "/m15condMultElsePrograma/mDdiagrama.html",
   "/m15condMultElsePrograma/mEcodigo.html",
   "/m15condMultElsePrograma/print.html",
   "/m16textos/",
   "/m16textos/index.html",
   "/m16textos/mAnumber.html",
   "/m16textos/mBconcatenacion.html",
   "/m16textos/mCconcatAsig.html",
   "/m16textos/mDplantilla.html",
   "/m16textos/mEmenor.html",
   "/m16textos/mFmayor.html",
   "/m16textos/mGmenorIgual.html",
   "/m16textos/mHmayorIgual.html",
   "/m16textos/mIresumen.html",
   "/m16textos/print.html",
   "/m17logicos/",
   "/m17logicos/index.html",
   "/m17logicos/mAy.html",
   "/m17logicos/mBo.html",
   "/m17logicos/mCno.html",
   "/m17logicos/mDternario.html",
   "/m17logicos/mEresumen.html",
   "/m17logicos/print.html",
   "/m18do-while/",
   "/m18do-while/index.html",
   "/m18do-while/mAdo-while.html",
   "/m18do-while/mBdo-whileEj.html",
   "/m18do-while/mCresumen.html",
   "/m18do-while/print.html",
   "/m19do-whilePrograma/",
   "/m19do-whilePrograma/index.html",
   "/m19do-whilePrograma/mAproblema.html",
   "/m19do-whilePrograma/mBescenarios.html",
   "/m19do-whilePrograma/mCpseudocodigo.html",
   "/m19do-whilePrograma/mDdiagrama.html",
   "/m19do-whilePrograma/mEcodigo.html",
   "/m19do-whilePrograma/print.html",
   "/m20masNumeros/",
   "/m20masNumeros/index.html",
   "/m20masNumeros/mArecta.html",
   "/m20masNumeros/mBopsArit.html",
   "/m20masNumeros/mCopsAritAsig.html",
   "/m20masNumeros/mDIncrDecr.html",
   "/m20masNumeros/mEigualdad.html",
   "/m20masNumeros/mForden.html",
   "/m20masNumeros/mGordenIgual.html",
   "/m20masNumeros/mHprecedencia.html",
   "/m20masNumeros/mIexpresiones.html",
   "/m20masNumeros/mJresumen.html",
   "/m20masNumeros/print.html",
   "/m21while/",
   "/m21while/index.html",
   "/m21while/mAwhile.html",
   "/m21while/mBwhileAsc.html",
   "/m21while/mCwhileAsc2.html",
   "/m21while/mDwhileDesc.html",
   "/m21while/mEwhileDesc2.html",
   "/m21while/mFwhileNoEjec.html",
   "/m21while/mGwhileDescMal.html",
   "/m21while/mHwhileAscMal.html",
   "/m21while/mIresumen.html",
   "/m21while/print.html",
   "/m22for/",
   "/m22for/index.html",
   "/m22for/mAfor.html",
   "/m22for/mBforEj.html",
   "/m22for/mCresumen.html",
   "/m22for/print.html",
   "/m23switch/",
   "/m23switch/index.html",
   "/m23switch/mAswitch.html",
   "/m23switch/mBswitchEj.html",
   "/m23switch/mCswitchDefault.html",
   "/m23switch/mDswitchDefaultEj.html",
   "/m23switch/mEresumen.html",
   "/m23switch/print.html",
   "/print.html",
   "/site.webmanifest",
   "/src/m04variables/p01question.js",
   "/src/m09ifPrograma/frutas.js",
   "/src/m11if-elsePrograma/adivinanza.js",
   "/src/m13condMultPrograma/musica.js",
   "/src/m15condMultElsePrograma/recomienda.js",
   "/src/m19do-whilePrograma/valida.js" ]

if (self instanceof ServiceWorkerGlobalScope) {
 self.addEventListener("install", installListener)
 self.addEventListener("fetch", fetchListener)
 self.addEventListener("activate", () => console.log("Service Worker activo."))
}

/**
 * @param {ExtendableEvent} evt
 */
function installListener(evt) {
 console.log("Service Worker instalando.")
 evt.waitUntil(cargaCache());
}

/**
 * @param {FetchEvent} evt
 */
function fetchListener(evt) {
 if (evt.request.method === "GET") {
  evt.respondWith(usaCache(evt))
 }
}

async function cargaCache() {
 console.log("Intentando cargar cache:", CACHE)
 const keys = await caches.keys()
 for (const key of keys) {
  await caches.delete(key)
 }
 const cache = await caches.open(CACHE)
 await cache.addAll(ARCHIVOS)
 console.log("Cache cargado:", CACHE)
 console.log("Versión:", VERSION)
}

/**
 * @param {FetchEvent} evt
 */
async function usaCache(evt) {
 const cache = await caches.open(CACHE)
 const response = await cache.match(evt.request, { ignoreSearch: true })
 if (response) {
  return response
 } else {
  return fetch(evt.request)
 }
}